<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FormFlow - Beautiful Feedback Forms</title>
    <base href="/">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üìù</text></svg>">
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
    <!-- Page Loader -->
    <div id="page-loader" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(255,255,255,0.9); z-index: 9999; align-items: center; justify-content: center;">
        <div style="text-align: center;">
            <div class="loading" style="width: 40px; height: 40px; border-width: 4px; margin: 0 auto 16px;"></div>
            <p style="color: var(--text-secondary);">Loading...</p>
        </div>
    </div>

    <div id="app">
        <!-- Landing Page -->
        <div id="landing-page" class="page active">
            <nav class="navbar">
                <div class="container">
                    <div class="nav-brand">FormFlow</div>
                    <div class="nav-actions">
                        <button class="btn-ghost" onclick="showLogin()">Login</button>
                        <button class="btn-primary" onclick="showRegister()">Get Started</button>
                    </div>
                </div>
            </nav>
            
            <section class="hero">
                <div class="container">
                    <div class="hero-content">
                        <h1 class="hero-title">Collect Feedback.<br>Build Better Products.</h1>
                        <p class="hero-subtitle">Create beautiful forms in seconds. Get real-time responses and insights.</p>
                        <button class="btn-hero" onclick="showRegister()">Start Free ‚Üí</button>
                    </div>
                    <div class="hero-visual">
                        <div class="form-preview">
                            <div class="preview-bar"></div>
                            <div class="preview-field"></div>
                            <div class="preview-field short"></div>
                            <div class="preview-field"></div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Login Page -->
        <div id="login-page" class="page">
            <div class="auth-container">
                <div class="auth-box">
                    <h2 class="auth-title">Welcome back</h2>
                    <form id="login-form" onsubmit="handleLogin(event)">
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="login-email" required>
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="login-password" required>
                        </div>
                        <button type="submit" class="btn-primary btn-full">Login</button>
                    </form>
                    <p class="auth-switch">Don't have an account? <a onclick="showRegister()">Sign up</a></p>
                </div>
            </div>
        </div>

        <!-- Register Page -->
        <div id="register-page" class="page">
            <div class="auth-container">
                <div class="auth-box">
                    <h2 class="auth-title">Create your account</h2>
                    <form id="register-form" onsubmit="handleRegister(event)">
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="register-email" required>
                        </div>
                        <div class="form-group">
                            <label>Password</label>
                            <input type="password" id="register-password" required>
                        </div>
                        <button type="submit" class="btn-primary btn-full">Create Account</button>
                    </form>
                    <p class="auth-switch">Already have an account? <a onclick="showLogin()">Login</a></p>
                </div>
            </div>
        </div>

        <!-- Dashboard -->
        <div id="dashboard-page" class="page">
            <nav class="navbar">
                <div class="container">
                    <div class="nav-brand">FormFlow</div>
                    <div class="nav-actions">
                        <button class="btn-ghost" onclick="logout()">Logout</button>
                    </div>
                </div>
            </nav>

            <div class="container dashboard-container">
                <div class="dashboard-header">
                    <h1>Your Forms</h1>
                    <button class="btn-primary" onclick="showCreateForm()">+ Create Form</button>
                </div>

                <div id="forms-grid" class="forms-grid">
                    <!-- Forms will be loaded here -->
                </div>
            </div>
        </div>

        <!-- Create Form Page -->
        <div id="create-form-page" class="page">
            <nav class="navbar">
                <div class="container">
                    <div class="nav-brand">FormFlow</div>
                    <div class="nav-actions">
                        <button class="btn-ghost" onclick="showDashboard()">‚Üê Back</button>
                    </div>
                </div>
            </nav>

            <div class="container">
                <div class="create-form-container">
                    <h1>Create New Form</h1>
                    
                    <form id="create-form-form" onsubmit="handleCreateForm(event)">
                        <div class="form-group">
                            <label>Form Title</label>
                            <input type="text" id="form-title" required placeholder="Customer Feedback Survey">
                        </div>

                        <div class="form-group">
                            <label>Description (optional)</label>
                            <textarea id="form-description" rows="3" placeholder="Help us improve our service"></textarea>
                        </div>

                        <div class="form-group">
                            <label>Logo (optional)</label>
                            <input type="file" id="form-logo" accept="image/*" onchange="handleLogoUpload(event)">
                        </div>

                        <div class="form-group">
                            <label>Form Fields</label>
                            <div id="fields-container">
                                <!-- Fields will be added here -->
                            </div>
                            <button type="button" class="btn-ghost" onclick="addField()">+ Add Field</button>
                        </div>

                        <button type="submit" class="btn-primary">Create Form</button>
                    </form>
                </div>
            </div>
        </div>

        <!-- Form Stats Page -->
        <div id="stats-page" class="page">
            <nav class="navbar">
                <div class="container">
                    <div class="nav-brand">FormFlow</div>
                    <div class="nav-actions">
                        <button class="btn-ghost" onclick="showDashboard()">‚Üê Back</button>
                    </div>
                </div>
            </nav>

            <div class="container">
                <div class="stats-container">
                    <h1 id="stats-form-title"></h1>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-value" id="total-responses">0</div>
                            <div class="stat-label">Total Responses</div>
                        </div>
                    </div>

                    <div class="chart-container">
                        <h2>Responses (Last 7 Days)</h2>
                        <canvas id="responses-chart"></canvas>
                    </div>

                    <div class="qr-section">
                        <h2>QR Code</h2>
                        <button class="btn-primary" onclick="generateQRCode()">Generate QR Code</button>
                        <div id="qr-display"></div>
                    </div>

                    <div class="responses-section">
                        <h2>Recent Responses</h2>
                        <div id="responses-list"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Public Form Page -->
        <div id="public-form-page" class="page">
            <div class="public-form-container">
                <div class="public-form-box">
                    <div id="form-logo-container"></div>
                    <h1 id="public-form-title"></h1>
                    <p id="public-form-description"></p>
                    <form id="public-form" onsubmit="handleSubmitResponse(event)">
                        <div id="public-form-fields"></div>
                        <button type="submit" class="btn-primary btn-full">Submit</button>
                    </form>
                    <div id="success-message" style="display: none;">
                        <div class="success-box">
                            <h2>‚úì Thank you!</h2>
                            <p>Your response has been submitted.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="/app.js"></script>
</body>
</html>